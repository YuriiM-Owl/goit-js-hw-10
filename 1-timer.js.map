{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst dateTimeInput = document.querySelector('#datetime-picker');\nconst initiateButton = document.querySelector('[data-start]');\nconst daysDisplay = document.querySelector('[data-days]');\nconst hoursDisplay = document.querySelector('[data-hours]');\nconst minutesDisplay = document.querySelector('[data-minutes]');\nconst secondsDisplay = document.querySelector('[data-seconds]');\n\nlet targetDateTime;\nlet countdownTimerId;\n\ninitiateButton.disabled = true;\n\nflatpickr(dateTimeInput, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n\n  onClose(selectedDates) {\n    targetDateTime = selectedDates[0].getTime();\n\n    if (targetDateTime < Date.now()) {\n      displayError('Please choose a date in the future');\n      initiateButton.disabled = true;\n    } else {\n      initiateButton.disabled = false;\n    }\n  },\n});\n\ninitiateButton.addEventListener('click', () => {\n  startCountdown();\n});\n\nfunction startCountdown() {\n  initiateButton.disabled = true;\n  dateTimeInput.disabled = true;\n\n  countdownTimerId = setInterval(() => {\n    const currentTime = Date.now();\n    const remainingTime = targetDateTime - currentTime;\n\n    if (remainingTime <= 0) {\n      clearInterval(countdownTimerId);\n      displayInfo('End of countdown');\n      dateTimeInput.disabled = false;\n      return;\n    }\n\n    updateCountdownDisplay(remainingTime);\n  }, 1000);\n}\n\nfunction updateCountdownDisplay(remainingTime) {\n  const { days, hours, minutes, seconds } = convertMilliseconds(remainingTime);\n  daysDisplay.textContent = formatWithLeadingZero(days);\n  hoursDisplay.textContent = formatWithLeadingZero(hours);\n  minutesDisplay.textContent = formatWithLeadingZero(minutes);\n  secondsDisplay.textContent = formatWithLeadingZero(seconds);\n}\n\nfunction convertMilliseconds(ms) {\n  const second = 1000;\n  const minute = 60 * second;\n  const hour = 60 * minute;\n  const day = 24 * hour;\n\n  return {\n    days: Math.floor(ms / day),\n    hours: Math.floor((ms % day) / hour),\n    minutes: Math.floor((ms % hour) / minute),\n    seconds: Math.floor((ms % minute) / second),\n  };\n}\n\nfunction formatWithLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n\nfunction displayError(message) {\n  iziToast.error({\n    message,\n    position: 'topRight',\n    backgroundColor: '#EF4040',\n    messageColor: '#ffffff',\n    close: true,\n    theme: 'dark',\n  });\n}\n\nfunction displayInfo(message) {\n  iziToast.info({\n    message,\n    position: 'topRight',\n    backgroundColor: '#4E75FF',\n    messageColor: '#ffffff',\n    close: true,\n    theme: 'dark',\n  });\n}\n"],"names":["dateTimeInput","initiateButton","daysDisplay","hoursDisplay","minutesDisplay","secondsDisplay","targetDateTime","countdownTimerId","flatpickr","selectedDates","displayError","startCountdown","currentTime","remainingTime","displayInfo","updateCountdownDisplay","days","hours","minutes","seconds","convertMilliseconds","formatWithLeadingZero","ms","value","message","iziToast"],"mappings":"2GAKA,MAAMA,EAAgB,SAAS,cAAc,kBAAkB,EACzDC,EAAiB,SAAS,cAAc,cAAc,EACtDC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EAE9D,IAAIC,EACAC,EAEJN,EAAe,SAAW,GAE1BO,EAAUR,EAAe,CACvB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EAEjB,QAAQS,EAAe,CACrBH,EAAiBG,EAAc,CAAC,EAAE,QAAO,EAErCH,EAAiB,KAAK,OACxBI,EAAa,oCAAoC,EACjDT,EAAe,SAAW,IAE1BA,EAAe,SAAW,EAE7B,CACH,CAAC,EAEDA,EAAe,iBAAiB,QAAS,IAAM,CAC7CU,GACF,CAAC,EAED,SAASA,GAAiB,CACxBV,EAAe,SAAW,GAC1BD,EAAc,SAAW,GAEzBO,EAAmB,YAAY,IAAM,CACnC,MAAMK,EAAc,KAAK,MACnBC,EAAgBP,EAAiBM,EAEvC,GAAIC,GAAiB,EAAG,CACtB,cAAcN,CAAgB,EAC9BO,EAAY,kBAAkB,EAC9Bd,EAAc,SAAW,GACzB,MACD,CAEDe,EAAuBF,CAAa,CACrC,EAAE,GAAI,CACT,CAEA,SAASE,EAAuBF,EAAe,CAC7C,KAAM,CAAE,KAAAG,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAoBP,CAAa,EAC3EX,EAAY,YAAcmB,EAAsBL,CAAI,EACpDb,EAAa,YAAckB,EAAsBJ,CAAK,EACtDb,EAAe,YAAciB,EAAsBH,CAAO,EAC1Db,EAAe,YAAcgB,EAAsBF,CAAO,CAC5D,CAEA,SAASC,EAAoBE,EAAI,CAM/B,MAAO,CACL,KAAM,KAAK,MAAMA,EAAK,KAAG,EACzB,MAAO,KAAK,MAAOA,EAAK,MAAO,IAAI,EACnC,QAAS,KAAK,MAAOA,EAAK,KAAQ,GAAM,EACxC,QAAS,KAAK,MAAOA,EAAK,IAAU,GAAM,CAC9C,CACA,CAEA,SAASD,EAAsBE,EAAO,CACpC,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAEA,SAASb,EAAac,EAAS,CAC7BC,EAAS,MAAM,CACb,QAAAD,EACA,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,MAAO,GACP,MAAO,MACX,CAAG,CACH,CAEA,SAASV,EAAYU,EAAS,CAC5BC,EAAS,KAAK,CACZ,QAAAD,EACA,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,MAAO,GACP,MAAO,MACX,CAAG,CACH"}